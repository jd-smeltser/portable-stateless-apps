<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

  <!-- iOS PWA Configuration -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Tasks">

  <!-- Security: Content Security Policy -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' https://unpkg.com;
    style-src 'self' 'unsafe-inline';
    img-src 'self' data:;
    connect-src 'self';
  ">

  <!-- Theme Color -->
  <meta name="theme-color" content="#000000" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">

  <title>Tasks</title>

  <!-- Apple Touch Icon -->
  <link rel="apple-touch-icon" href="icon-180.png">
  <link rel="manifest" href="manifest.json">

  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="app-header">
    <h1>Tasks</h1>
    <div class="header-actions">
      <button id="btn-import" class="icon-btn" aria-label="Import from clipboard">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/>
          <rect x="8" y="2" width="8" height="4" rx="1" ry="1"/>
        </svg>
      </button>
      <button id="btn-share" class="icon-btn" aria-label="Share tasks">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/>
          <polyline points="16 6 12 2 8 6"/>
          <line x1="12" y1="2" x2="12" y2="15"/>
        </svg>
      </button>
    </div>
  </header>

  <main class="task-list" id="task-list">
    <!-- Tasks rendered here -->
  </main>

  <form class="add-task-form" id="add-form">
    <input
      type="text"
      id="task-input"
      placeholder="Add a task..."
      autocomplete="off"
      enterkeyhint="done"
    >
    <button type="submit" class="add-btn" aria-label="Add task">+</button>
  </form>

  <!-- Toast notifications -->
  <div id="toast" class="toast" aria-live="polite"></div>

  <!-- Dexie.js from CDN -->
  <script src="https://unpkg.com/dexie@4/dist/dexie.min.js"></script>
  <!-- Config-driven platform (AI agents: modify app.config.js) -->
  <script type="module" src="platform.js"></script>
</body>
</html>
